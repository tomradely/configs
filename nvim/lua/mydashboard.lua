local if_nil = vim.F.if_nil

local default_terminal = {
    type = "terminal",
    command = nil,
    width = 69,
    height = 8,
    opts = {
        redraw = true,
        window_config = {},
    },
}
--local M = {}
--
--M.default1 = {
--	[[                               __                ]],
--	[[  ___     ___    ___   __  __ /\_\    ___ ___    ]],
--	[[ / _ `\  / __`\ / __`\/\ \/\ \\/\ \  / __` __`\  ]],
--	[[/\ \/\ \/\  __//\ \_\ \ \ \_/ |\ \ \/\ \/\ \/\ \ ]],
--	[[\ \_\ \_\ \____\ \____/\ \___/  \ \_\ \_\ \_\ \_\]],
--	[[ \/_/\/_/\/____/\/___/  \/__/    \/_/\/_/\/_/\/_/]],
--}
--
--M.default2 = {
--	[[ _______             ____   ____.__         ]],
--	[[ \      \   ____  ___\   \ /   /|__| _____  ]],
--	[[ /   |   \_/ __ \/  _ \   Y   / |  |/     \ ]],
--	[[/    |    \  ___(  <_> )     /  |  |  Y Y  \]],
--	[[\____|__  /\___  >____/ \___/   |__|__|_|  /]],
--	[[        \/     \/                        \/ ]],
--}
--
--M.dos_rebel = {
--	[[                                                                       ]],
--	[[  ██████   █████                   █████   █████  ███                  ]],
--	[[ ░░██████ ░░███                   ░░███   ░░███  ░░░                   ]],
--	[[  ░███░███ ░███   ██████   ██████  ░███    ░███  ████  █████████████   ]],
--	[[  ░███░░███░███  ███░░███ ███░░███ ░███    ░███ ░░███ ░░███░░███░░███  ]],
--	[[  ░███ ░░██████ ░███████ ░███ ░███ ░░███   ███   ░███  ░███ ░███ ░███  ]],
--	[[  ░███  ░░█████ ░███░░░  ░███ ░███  ░░░█████░    ░███  ░███ ░███ ░███  ]],
--	[[  █████  ░░█████░░██████ ░░██████     ░░███      █████ █████░███ █████ ]],
--	[[ ░░░░░    ░░░░░  ░░░░░░   ░░░░░░       ░░░      ░░░░░ ░░░░░ ░░░ ░░░░░  ]],
--	[[                                                                       ]],
--}
--
--
--M.rowan_cap = {
--	[[                                                    ]],
--	[[     dMMMMb  dMMMMMP .aMMMb  dMP dMP dMP dMMMMMMMMb ]],
--	[[    dMP dMP dMP     dMP"dMP dMP dMP amr dMP"dMP"dMP ]],
--	[[   dMP dMP dMMMP   dMP dMP dMP dMP dMP dMP dMP dMP  ]],
--	[[  dMP dMP dMP     dMP.aMP  YMvAP" dMP dMP dMP dMP   ]],
--	[[ dMP dMP dMMMMMP  VMMMP"    VP"  dMP dMP dMP dMP    ]],
--	[[                                                    ]],
--}
--
--M.isometric = {
--	[[                                                                                   ]],
--	[[     /\__\         /\  \         /\  \         /\__\          ___        /\__\     ]],
--	[[    /::|  |       /::\  \       /::\  \       /:/  /         /\  \      /::|  |    ]],
--	[[   /:|:|  |      /:/\:\  \     /:/\:\  \     /:/  /          \:\  \    /:|:|  |    ]],
--	[[  /:/|:|  |__   /::\~\:\  \   /:/  \:\  \   /:/__/  ___      /::\__\  /:/|:|__|__  ]],
--	[[ /:/ |:| /\__\ /:/\:\ \:\__\ /:/__/ \:\__\  |:|  | /\__\  __/:/\/__/ /:/ |::::\__\ ]],
--	[[ \/__|:|/:/  / \:\~\:\ \/__/ \:\  \ /:/  /  |:|  |/:/  / /\/:/  /    \/__/~~/:/  / ]],
--	[[     |:/:/  /   \:\ \:\__\    \:\  /:/  /   |:|__/:/  /  \::/__/           /:/  /  ]],
--	[[     |::/  /     \:\ \/__/     \:\/:/  /     \::::/__/    \:\__\          /:/  /   ]],
--	[[     /:/  /       \:\__\        \::/  /       ~~~~         \/__/         /:/  /    ]],
--	[[     \/__/         \/__/         \/__/                                   \/__/     ]],
--	[[                                                                                   ]],
--}
--
--M.ogre = {
--	[[                                     ]],
--	[[      __                _            ]],
--	[[   /\ \ \___  ___/\   /(_)_ __ ___   ]],
--	[[  /  \/ / _ \/ _ \ \ / | | '_ ` _ \  ]],
--	[[ / /\  |  __| (_) \ V /| | | | | | | ]],
--	[[ \_\ \/ \___|\___/ \_/ |_|_| |_| |_| ]],
--	[[                                     ]],
--}
--
--M.slant_relief = {
--	[[                                                                                                   ]],
--	[[ /\\\\\_____/\\\_______________________________/\\\________/\\\___________________________         ]],
--	[[ \/\\\\\\___\/\\\______________________________\/\\\_______\/\\\__________________________         ]],
--	[[ _\/\\\/\\\__\/\\\______________________________\//\\\______/\\\___/\\\_____________________       ]],
--	[[  _\/\\\//\\\_\/\\\_____/\\\\\\\\______/\\\\\_____\//\\\____/\\\___\///_____/\\\\\__/\\\\\__       ]],
--	[[   _\/\\\\//\\\\/\\\___/\\\/////\\\___/\\\///\\\____\//\\\__/\\\_____/\\\__/\\\///\\\\\///\\\_     ]],
--	[[    _\/\\\_\//\\\/\\\__/\\\\\\\\\\\___/\\\__\//\\\____\//\\\/\\\_____\/\\\_\/\\\_\//\\\__\/\\\     ]],
--	[[     _\/\\\__\//\\\\\\_\//\\///////___\//\\\__/\\\______\//\\\\\______\/\\\_\/\\\__\/\\\__\/\\\_   ]],
--	[[      _\/\\\___\//\\\\\__\//\\\\\\\\\\__\///\\\\\/________\//\\\_______\/\\\_\/\\\__\/\\\__\/\\\   ]],
--	[[       _\///_____\/////____\//////////_____\/////___________\///________\///__\///___\///___\///__ ]],
--	[[                                                                                                   ]],
--}
--
--M.ansi_shadow = {
--	[[                                                    ]],
--	[[ ███╗   ██╗███████╗ ██████╗ ██╗   ██╗██╗███╗   ███╗ ]],
--	[[ ████╗  ██║██╔════╝██╔═══██╗██║   ██║██║████╗ ████║ ]],
--	[[ ██╔██╗ ██║█████╗  ██║   ██║██║   ██║██║██╔████╔██║ ]],
--	[[ ██║╚██╗██║██╔══╝  ██║   ██║╚██╗ ██╔╝██║██║╚██╔╝██║ ]],
--	[[ ██║ ╚████║███████╗╚██████╔╝ ╚████╔╝ ██║██║ ╚═╝ ██║ ]],
--	[[ ╚═╝  ╚═══╝╚══════╝ ╚═════╝   ╚═══╝  ╚═╝╚═╝     ╚═╝ ]],
--	[[                                                    ]],
--}
--
--M.bloody = {
--	[[                                                     ]],
--	[[  ███▄    █ ▓█████  ▒█████   ██▒   █▓ ██▓ ███▄ ▄███▓ ]],
--	[[  ██ ▀█   █ ▓█   ▀ ▒██▒  ██▒▓██░   █▒▓██▒▓██▒▀█▀ ██▒ ]],
--	[[ ▓██  ▀█ ██▒▒███   ▒██░  ██▒ ▓██  █▒░▒██▒▓██    ▓██░ ]],
--	[[ ▓██▒  ▐▌██▒▒▓█  ▄ ▒██   ██░  ▒██ █░░░██░▒██    ▒██  ]],
--	[[ ▒██░   ▓██░░▒████▒░ ████▓▒░   ▒▀█░  ░██░▒██▒   ░██▒ ]],
--	[[ ░ ▒░   ▒ ▒ ░░ ▒░ ░░ ▒░▒░▒░    ░ ▐░  ░▓  ░ ▒░   ░  ░ ]],
--	[[ ░ ░░   ░ ▒░ ░ ░  ░  ░ ▒ ▒░    ░ ░░   ▒ ░░  ░      ░ ]],
--	[[    ░   ░ ░    ░   ░ ░ ░ ▒       ░░   ▒ ░░      ░    ]],
--	[[          ░    ░  ░    ░ ░        ░   ░         ░    ]],
--	[[                                 ░                   ]],
--	[[                                                     ]],
--}
--
--M.delta_corps_priest1 = {
--	[[                                                                   ]],
--	[[ ███▄▄▄▄      ▄████████  ▄██████▄   ▄█    █▄   ▄█    ▄▄▄▄███▄▄▄▄   ]],
--	[[ ███▀▀▀██▄   ███    ███ ███    ███ ███    ███ ███  ▄██▀▀▀███▀▀▀██▄ ]],
--	[[ ███   ███   ███    █▀  ███    ███ ███    ███ ███▌ ███   ███   ███ ]],
--	[[ ███   ███  ▄███▄▄▄     ███    ███ ███    ███ ███▌ ███   ███   ███ ]],
--	[[ ███   ███ ▀▀███▀▀▀     ███    ███ ███    ███ ███▌ ███   ███   ███ ]],
--	[[ ███   ███   ███    █▄  ███    ███ ███    ███ ███  ███   ███   ███ ]],
--	[[ ███   ███   ███    ███ ███    ███ ███    ███ ███  ███   ███   ███ ]],
--	[[  ▀█   █▀    ██████████  ▀██████▀   ▀██████▀  █▀    ▀█   ███   █▀  ]],
--	[[                                                                   ]],
--}
--
--M.elite = {
--	[[                                   ]],
--	[[  ▐ ▄ ▄▄▄ .       ▌ ▐·▪  • ▌ ▄ ·.  ]],
--	[[ •█▌▐█▀▄.▀·▪     ▪█·█▌██ ·██ ▐███▪ ]],
--	[[ ▐█▐▐▌▐▀▀▪▄ ▄█▀▄ ▐█▐█•▐█·▐█ ▌▐▌▐█· ]],
--	[[ ██▐█▌▐█▄▄▌▐█▌.▐▌ ███ ▐█▌██ ██▌▐█▌ ]],
--	[[ ▀▀ █▪ ▀▀▀  ▀█▄▀▪. ▀  ▀▀▀▀▀  █▪▀▀▀ ]],
--	[[                                   ]],
--}
--
--M.the_edge = {
--	[[                                       ]],
--	[[    ▄   ▄███▄   ████▄     ▄   ▄█ █▀▄▀█ ]],
--	[[     █  █▀   ▀  █   █      █  ██ █ █ █ ]],
--	[[ ██   █ ██▄▄    █   █ █     █ ██ █ ▄ █ ]],
--	[[ █ █  █ █▄   ▄▀ ▀████  █    █ ▐█ █   █ ]],
--	[[ █  █ █ ▀███▀           █  █   ▐    █  ]],
--	[[ █   ██                  █▐        ▀   ]],
--	[[                         ▐             ]],
--	[[                                       ]],
--}
--
--M.banner3 = {
--	[[                                                      ]],
--	[[ ##    ## ########  #######  ##     ## #### ##     ## ]],
--	[[ ###   ## ##       ##     ## ##     ##  ##  ###   ### ]],
--	[[ ####  ## ##       ##     ## ##     ##  ##  #### #### ]],
--	[[ ## ## ## ######   ##     ## ##     ##  ##  ## ### ## ]],
--	[[ ##  #### ##       ##     ##  ##   ##   ##  ##     ## ]],
--	[[ ##   ### ##       ##     ##   ## ##    ##  ##     ## ]],
--	[[ ##    ## ########  #######     ###    #### ##     ## ]],
--	[[                                                      ]],
--}
--
--M.colossal = {
--	[[                                                            ]],
--	[[ 888b    888                  888     888 d8b               ]],
--	[[ 8888b   888                  888     888 Y8P               ]],
--	[[ 88888b  888                  888     888                   ]],
--	[[ 888Y88b 888  .d88b.   .d88b. Y88b   d88P 888 88888b.d88b.  ]],
--	[[ 888 Y88b888 d8P  Y8b d88""88b Y88b d88P  888 888 "888 "88b ]],
--	[[ 888  Y88888 88888888 888  888  Y88o88P   888 888  888  888 ]],
--	[[ 888   Y8888 Y8b.     Y88..88P   Y888P    888 888  888  888 ]],
--	[[ 888    Y888  "Y8888   "Y88P"     Y8P     888 888  888  888 ]],
--	[[                                                            ]],
--}
--
--M.decimal = {
--	[[                       ]],
--	[[ 78 101 111 86 105 109 ]],
--	[[                       ]],
--}
--
--M.def_leppard = {
--	[[                                                                         ]],
--	[[                               :                                         ]],
--	[[ L.                     ,;    t#,                                        ]],
--	[[ EW:        ,ft       f#i    ;##W.              t                        ]],
--	[[ E##;       t#E     .E#t    :#L:WE              Ej            ..       : ]],
--	[[ E###t      t#E    i#W,    .KG  ,#D  t      .DD.E#,          ,W,     .Et ]],
--	[[ E#fE#f     t#E   L#D.     EE    ;#f EK:   ,WK. E#t         t##,    ,W#t ]],
--	[[ E#t D#G    t#E :K#Wfff;  f#.     t#iE#t  i#D   E#t        L###,   j###t ]],
--	[[ E#t  f#E.  t#E i##WLLLLt :#G     GK E#t j#f    E#t      .E#j##,  G#fE#t ]],
--	[[ E#t   t#K: t#E  .E#L      ;#L   LW. E#tL#i     E#t     ;WW; ##,:K#i E#t ]],
--	[[ E#t    ;#W,t#E    f#E:     t#f f#:  E#WW,      E#t    j#E.  ##f#W,  E#t ]],
--	[[ E#t     :K#D#E     ,WW;     f#D#;   E#K:       E#t  .D#L    ###K:   E#t ]],
--	[[ E#t      .E##E      .D#;     G#t    ED.        E#t :K#t     ##D.    E#t ]],
--	[[ ..         G#E        tt      t     t          E#t ...      #G      ..  ]],
--	[[             fE                                 ,;.          j           ]],
--	[[              ,                                                          ]],
--	[[                                                                         ]],
--}
--
--M.larry_3d = {
--	[[                                                     ]],
--	[[  __  __                 __  __                      ]],
--	[[ /\ \/\ \               /\ \/\ \  __                 ]],
--	[[ \ \ `\\ \     __    ___\ \ \ \ \/\_\    ___ ___     ]],
--	[[  \ \ , ` \  /'__`\ / __`\ \ \ \ \/\ \ /' __` __`\   ]],
--	[[   \ \ \`\ \/\  __//\ \L\ \ \ \_/ \ \ \/\ \/\ \/\ \  ]],
--	[[    \ \_\ \_\ \____\ \____/\ `\___/\ \_\ \_\ \_\ \_\ ]],
--	[[     \/_/\/_/\/____/\/___/  `\/__/  \/_/\/_/\/_/\/_/ ]],
--	[[                                                     ]],
--}
--
--M.lean = {
--	[[                                                                  ]],
--	[[     _/      _/                      _/      _/  _/               ]],
--	[[    _/_/    _/    _/_/      _/_/    _/      _/      _/_/_/  _/_/  ]],
--	[[   _/  _/  _/  _/_/_/_/  _/    _/  _/      _/  _/  _/    _/    _/ ]],
--	[[  _/    _/_/  _/        _/    _/    _/  _/    _/  _/    _/    _/  ]],
--	[[ _/      _/    _/_/_/    _/_/        _/      _/  _/    _/    _/   ]],
--	[[                                                                  ]],
--}
--
-- M.morse = {
--	[[                     ]],
--	[[ -. . --- ...- .. -- ]],
--	[[                     ]],
-- }
--
-- M.sharp = {
--	[[                                                                       ]],
--	[[                                                                     ]],
--	[[       ████ ██████           █████      ██                     ]],
--	[[      ███████████             █████                             ]],
--	[[      █████████ ███████████████████ ███   ███████████   ]],
--	[[     █████████  ███    █████████████ █████ ██████████████   ]],
--	[[    █████████ ██████████ █████████ █████ █████ ████ █████   ]],
--	[[  ███████████ ███    ███ █████████ █████ █████ ████ █████  ]],
--	[[ ██████  █████████████████████ ████ █████ █████ ████ ██████ ]],
--	[[                                                                       ]],
-- }
--
-- return M
local default_header = {
    type = "text",
    val = {
	[[                                                                       ]],
	[[                                                                     ]],
	[[       ████ ██████           █████      ██                     ]],
	[[      ███████████             █████                             ]],
	[[      █████████ ███████████████████ ███   ███████████   ]],
	[[     █████████  ███    █████████████ █████ ██████████████   ]],
	[[    █████████ ██████████ █████████ █████ █████ ████ █████   ]],
	[[  ███████████ ███    ███ █████████ █████ █████ ████ █████  ]],
	[[ ██████  █████████████████████ ████ █████ █████ ████ ██████ ]],
	[[                                                                       ]],
	},
	opts = {
		position = "center",
		h1 = "Type",
	},
}

local footer = {
    type = "text",
    val = "",
    opts = {
        position = "center",
        hl = "Number",
    },
}

local leader = "SPC"

--- @param sc string
--- @param txt string
--- @param keybind string? optional
--- @param keybind_opts table? optional
local function button(sc, txt, keybind, keybind_opts)
    local sc_ = sc:gsub("%s", ""):gsub(leader, "<leader>")

    local opts = {
        position = "center",
        shortcut = sc,
        cursor = 3,
        width = 50,
        align_shortcut = "right",
        hl_shortcut = "Keyword",
    }
    if keybind then
        keybind_opts = if_nil(keybind_opts, { noremap = true, silent = true, nowait = true })
        opts.keymap = { "n", sc_, keybind, keybind_opts }
    end

    local function on_press()
        local key = vim.api.nvim_replace_termcodes(keybind or sc_ .. "<Ignore>", true, false, true)
        vim.api.nvim_feedkeys(key, "t", false)
    end

    return {
        type = "button",
        val = txt,
        on_press = on_press,
        opts = opts,
    }
end

local buttons = {
    type = "group",
    val = {
        button("e", "  New file", "<cmd>ene <CR>"),
        button("<ldr>+nt", "  Notes", "<cmd>:Neotree float ~/OneDrive/Documents/logseq<CR>"),
        button("<ldr>+lg", "󱎸  Live grep", "<cmd>Telescope live_grep<CR>"),
        button("<ldr>+fd", "󰈞  Find files", "<cmd>Telescope find_files<CR>"),
        button("<ldr>+ft", "󰉓  Neotree", "<cmd>Neotree left toggle<CR>"),
	button(":Nread...", "󰢭 Nread to Pi", "<cmd>Nread scp://pi//home/tom/<CR>"),
    },
    opts = {
        spacing = 1,
    },
}

local section = {
    terminal = default_terminal,
    header = default_header,
    buttons = buttons,
    footer = footer,
}

local config = {
    layout = {
        { type = "padding", val = 2 },
        section.header,
        { type = "padding", val = 2 },
        section.buttons,
        section.footer,
    },
    opts = {
        margin = 5,
    },
}

return {
    button = button,
    section = section,
    config = config,
    -- theme config
    leader = leader,
    -- deprecated
    opts = config,
}
